\documentclass{exam}

\usepackage{float}
\usepackage[dutch]{babel}
\usepackage{hyperref}
\usepackage{graphicx}
\usepackage{cite}
\usepackage{url}
\usepackage{titlesec}
\usepackage{xcolor}
\usepackage{babelbib}
\usepackage[utf8]{inputenc}
\usepackage{url}


%code voor subsubsubsection te kunnen gebruiken
\titleclass{\subsubsubsection}{straight}[\subsection]

\newcounter{subsubsubsection}[subsubsection]
\renewcommand\thesubsubsubsection{\thesubsubsection.\arabic{subsubsubsection}}
\renewcommand\theparagraph{\thesubsubsubsection.\arabic{paragraph}}

\titleformat{\subsubsubsection}
  {\normalfont\normalsize\bfseries}{\thesubsubsubsection}{1em}{}
\titlespacing*{\subsubsubsection}
{0pt}{3.25ex plus 1ex minus .2ex}{1.5ex plus .2ex}

\makeatletter
\renewcommand\paragraph{\@startsection{paragraph}{5}{\z@}%
  {3.25ex \@plus1ex \@minus.2ex}%
  {-1em}%
  {\normalfont\normalsize\bfseries}}
\renewcommand\subparagraph{\@startsection{subparagraph}{6}{\parindent}%
  {3.25ex \@plus1ex \@minus .2ex}%
  {-1em}%
  {\normalfont\normalsize\bfseries}}
\def\toclevel@subsubsubsection{4}
\def\toclevel@paragraph{5}
\def\toclevel@paragraph{6}
\def\l@subsubsubsection{\@dottedtocline{4}{7em}{4em}}
\def\l@paragraph{\@dottedtocline{5}{10em}{5em}}
\def\l@subparagraph{\@dottedtocline{6}{14em}{6em}}
\makeatother

\setcounter{secnumdepth}{4}
\setcounter{tocdepth}{4}


% voor java code
\usepackage{listings}
\usepackage{color}

\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{mauve}{rgb}{0.58,0,0.82}

\lstset{frame=tb,
  language=Java,
  aboveskip=3mm,
  belowskip=3mm,
  showstringspaces=false,
  columns=flexible,
  basicstyle={\small\ttfamily},
  numbers=none,
  numberstyle=\tiny\color{gray},
  keywordstyle=\color{blue},
  commentstyle=\color{dkgreen},
  stringstyle=\color{mauve},
  breaklines=true,
  breakatwhitespace=true,
  tabsize=3
}


%template voorpagina
\newcommand*{\titleGP}{\begingroup % Create the command for including the title page in the document
\centering % Center all text
\vspace*{\baselineskip} % White space at the top of the page

\rule{\textwidth}{1.6pt}\vspace*{-\baselineskip}\vspace*{2pt} % Thick horizontal line
\rule{\textwidth}{0.4pt}\\[\baselineskip] % Thin horizontal line

{\LARGE PDS: Eindverslag convolutie}\\[0.2\baselineskip] % Title

\rule{\textwidth}{0.4pt}\vspace*{-\baselineskip}\vspace{3.2pt} % Thin horizontal line
\rule{\textwidth}{1.6pt}\\[\baselineskip] % Thick horizontal line

\scshape % Small caps
2016--2017\par

\vspace*{2\baselineskip}

{\scshape Jens Vannitsen (1334039) \vspace*{2\baselineskip}\par}

\vfill

\endgroup}

\begin{document}

\begin{questions}
\question \textbf{Exercise 3.1.1} : Compute the Jaccard similarities of each pair of the following three sets: S1 = {1, 2, 3, 4}, S2 =  {2, 3, 5, 7}, and S3 = {2, 4, 6}.

$sim(C1, C2) = |C1 \cap C2|/|C1 \cup C2|$ \\\\
sim(S1, S2) = 2/6 = 1/3\\
sim(S1, S3) = 2/5\\
sim(S2, S3) =  1/6\\\\

\question \textbf{Exercise 3.2.1} : What are the first ten 3-shingles in the first sentence of Sec- tion 3.2?
"The most effective way to represent documents as sets, for the purpose of iden- tifying lexically similar documents is to construct from the document the set of short strings that appear within it."
\begin{enumerate}
\item "The"
\item "he "
\item "e m"
\item " mo"
\item "mos"
\item "ost"
\item "st "
\item "t e"
\item " ef"
\item "eff" \\\\
\end{enumerate}

\question \textbf{Exercise 3.3.3} : In Fig. 3.5 is a matrix with six rows.
(a) Compute the minhash signature for each column if we use the following three hash functions: h1(x) = 2x + 1 mod 6; h2(x) = 3x + 2 mod 6; h3(x)=5x+2 mod6.\\\\

\begin{center}
    \begin{tabular}{| l | l | l | l | l | l | l | l |}
    \hline
    Elements & S1 & S2 & S3 & S4 & 2x+1 mod 6 & 3x+2 mod 6 & 5x+2 mod 6 \\ \hline
     0 & 0 & 1 & 0 & 1 & 1 & 2 & 2\\ \hline
     1 & 0 & 1 & 0 & 0 & 3 & 5 & 1\\ \hline
     2 & 1 & 0 & 0 & 1 & 5 & 2 & 0\\ \hline
     3 & 0 & 0 & 1 & 0 & 1 & 5 & 5\\ \hline
     4 & 0 & 0 & 1 & 1 & 3 & 2 & 4\\ \hline
   	 5 & 1 & 0 & 0 & 0 & 5 & 5 & 3\\ \hline
    \end{tabular}
\end{center}

\begin{center}
    \begin{tabular}{| l | l | l | l | l |}
    \hline
	 & S1 & S2 & S3 & S4  \\ \hline
     h1(0) & / & 1 & / & 1\\ \hline
     h2(0) & / & 2 & / & 2\\ \hline
     h3(0) & / & 2 & / & 2\\ \hline\hline
     
      h1(1) & / & 1 & / & 1\\ \hline
     h2(1) & / & 2 & / & 2\\ \hline
     h3(1) & / & 2 & / & 2\\ \hline\hline
     
        h1(2) & 5 & 1 & / & 1\\ \hline
     h2(2) & 2 & 2 & / & 2\\ \hline
     h3(2) & 0 & 1 & / & 0\\ \hline\hline
     
      h1(3) & 5 & 1 & 1 & 1\\ \hline
     h2(3) & 2 & 2 & 5 & 2\\ \hline
     h3(3) & 0 & 1 & 5 & 0\\ \hline\hline
     
       h1(4) & 5 & 1 & 1 & 1\\ \hline
     h2(4) & 2 & 2 & 2 & 2\\ \hline
     h3(4) & 0 & 1 & 4 & 0\\ \hline\hline
     
       h1(5) & 5 & 1 & 1 & 1\\ \hline
     h2(5) & 2 & 2 & 2 & 2\\ \hline
     h3(5) & 0 & 1 & 4 & 0\\ \hline
    \end{tabular}
\end{center}

Bereken voor iedere cel de verschillende functies en zet in een tabel.
De finale matrix is: 

\begin{center}
    \begin{tabular}{| l | l | l | l |}
    \hline
	 S1 & S2 & S3 & S4  \\ \hline
     5 & 1 & 1 & 1 \\ \hline
     2 & 2 & 2 & 2 \\ \hline
     0 & 1 & 4 & 0 \\ \hline
    \end{tabular}
\end{center}

(b) Which of these hash functions are true permutations?\\\\
 h3 is een permutatie. h1 kan geen permutatie zijn omdat deze als eerste waarde 5 heeft terwijl voor S1 er 2 keer een 1 voorkomt dus er zal altijd een rij eerder een 1 tegenkomen. h2 is ook geen permutatie omdat geen enkele rij 4 keer een 1 heeft. 3 heeft als permutatie 2, 1, 0, 4, 3, 5.

(c) How close are the estimated Jaccard similarities for the six pairs of columns to the true Jaccard similarities?\\\\

\begin{center}
    \begin{tabular}{| l | l | l | l | l | l | l |}
    \hline
	 similarities & 1-2 & 1-3 & 1-4 & 2-3 & 2-4 & 3-4  \\ \hline
     col/col & 0 & 0 & 0.25 & 0 & 0.25 & 0.25 \\ \hline
     sig/sig & 0.33 & 0.33 & 0.67 & 0.67 & 0.67 & 0.67 \\ \hline
    \end{tabular}
\end{center}
De waarden liggen helemaal niet in elkaars buurt.\\\\

\question \textbf{Exercise 3.3.5} : Prove that if the Jaccard similarity of two columns is 0, then minhashing always gives a correct estimate of the Jaccard similarity.

\question \textbf{Exercise 3.4.1} : Evaluate the S-curve 1 - (1 - sr)b for s = 0.1, 0.2, . . . , 0.9, for the following values of r and b:

zie oplossingen is gewoon uitrekenen en plotten

\question \textbf{Exercise 3.4.2} : For each of the (r,b) pairs in Exercise 3.4.1, compute the threshold, that is, the value of s for which the value of $1-(1-s^r)^b$ is exactly 1/2. How does this value compare with the estimate of $(1/b)^{1/r}$ that was suggested in Section 3.4.2?

De functie invullen met r en b en vervolgens gelijkstellen aan 0.5, dit geeft ons:
\begin{itemize}
\item s = 0.406088
\item s = 0.569353
\item s = 0.424394
\end{itemize}

 voor $(1/b)^{1/r}$ krijgen we:
 \begin{itemize}
\item s = 0.464158883
\item s = 0.606962
\item s = 0.4573050
\end{itemize}

\end{questions}
\end{document}